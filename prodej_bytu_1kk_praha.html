<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Designov√Ω byt 1+kk Praha na prodej | Petr Pavel Reality</title>
    <meta name="description" content="Prodej designov√©ho bytu 1+kk po luxusn√≠ rekonstrukci v klidn√© ƒç√°sti Prahy. Slunn√Ω interi√©r, origin√°ln√≠ umƒõleck√© prvky, spoleƒçn√° zahrada a kompletn√≠ obƒçansk√° vybavenost v dosahu.">
    <meta name="keywords" content="prodej bytu Praha, byt 1+kk, luxusn√≠ rekonstrukce, garsoniera, byt na prodej, designov√Ω byt, Petr Pavel Reality">
    <meta name="author" content="Petr Pavel Reality">
    <link rel="canonical" href="https://pavelreality.cz/prodej_bytu_1kk_praha">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="shortcut icon" href="/favicon.ico">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Open Graph -->
    <meta property="og:title" content="Prodej bytu 1+kk Praha | Petr Pavel Reality">
    <meta property="og:description" content="Luxusnƒõ zrekonstruovan√Ω byt 1+kk v klidn√© ƒç√°sti Prahy. Kliknƒõte a za≈æijte atmosf√©ru bytu je≈°tƒõ p≈ôed osobn√≠ n√°v≈°tƒõvou.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://pavelreality.cz/prodej_bytu_1kk_praha">
    <meta property="og:image" content="https://pavelreality.cz/Prodej_bytu_1+kk_Praha1.png">
    <meta property="og:locale" content="cs_CZ">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "Dom≈Ø",
                "item": "https://pavelreality.cz"
            },
            {
                "@type": "ListItem",
                "position": 2,
                "name": "Prodej bytu 1+kk Praha",
                "item": "https://pavelreality.cz/prodej_bytu_1kk_praha"
            }
        ]
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "RealEstateListing",
        "name": "Designov√Ω byt 1+kk Praha na prodej",
        "description": "Luxusnƒõ zrekonstruovan√Ω byt 1+kk s origin√°ln√≠ dekorativn√≠ plastikou, modern√≠ koupelnou a p≈ô√≠stupem na spoleƒçnou zahradu v klidn√© ƒç√°sti Prahy.",
        "url": "https://pavelreality.cz/prodej_bytu_1kk_praha",
        "category": "ForSale",
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Praha",
            "addressCountry": "CZ"
        },
        "numberOfRooms": 1,
        "floorLevel": "2",
        "image": [
            "https://pavelreality.cz/Prodej_bytu_1+kk_Praha1.png",
            "https://pavelreality.cz/Prodej_bytu_1+kk_Praha2.png",
            "https://pavelreality.cz/Prodej_bytu_1+kk_Praha3.png"
        ],
        "seller": {
            "@type": "RealEstateAgent",
            "name": "Petr Pavel Reality",
            "telephone": "+420 739 532 056",
            "email": "petr.pavel@qara.cz"
        }
    }
    </script>
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "VideoObject",
        "name": "Videoprohl√≠dka bytu 1+kk Praha",
        "description": "Kompletn√≠ videoprohl√≠dka designov√©ho bytu 1+kk po luxusn√≠ rekonstrukci v klidn√© ƒç√°sti Prahy.",
        "thumbnailUrl": "https://img.youtube.com/vi/vJznDISW6kg/maxresdefault.jpg",
        "uploadDate": "2025-01-15",
        "contentUrl": "https://www.youtube.com/watch?v=vJznDISW6kg",
        "embedUrl": "https://www.youtube-nocookie.com/embed/vJznDISW6kg",
        "duration": "PT2M30S"
    }
    </script>

    <style>
        :root {
            --primary-bg: #081636;
            --primary-text: #C7A46E;
            --secondary-bg: #050f24;
            --light-bg: #f0f4f8;
            --accent: #9b7d4f;
            --white: #ffffff;
            --gray: #6b7280;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.1);
            --shadow-md: 0 5px 20px rgba(0,0,0,0.08);
            --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background: var(--white);
            overflow-x: hidden;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Playfair Display', Georgia, serif;
            font-weight: 700;
            line-height: 1.2;
            color: var(--primary-bg);
        }

        a {
            color: inherit;
        }

        header {
            background: var(--primary-bg);
            padding: 1rem 0;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 999;
            box-shadow: var(--shadow-sm);
        }

        nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: var(--primary-text);
            text-decoration: none;
            font-size: 1.5rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            font-family: 'Playfair Display', Georgia, serif;
        }

        .logo img {
            height: 30px;
            width: auto;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--white);
            text-decoration: none;
            font-size: 0.95rem;
            position: relative;
            padding: 0.5rem 0;
            transition: color 0.3s ease;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 0;
            height: 2px;
            background: var(--primary-text);
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .nav-links a:hover {
            color: var(--primary-text);
        }

        .mobile-menu {
            display: none;
            flex-direction: column;
            gap: 4px;
            cursor: pointer;
            padding: 0.5rem;
        }

        .mobile-menu span {
            width: 25px;
            height: 3px;
            background: var(--primary-text);
            transition: 0.3s;
            border-radius: 3px;
        }

        .mobile-menu.active span:nth-child(1) {
            transform: rotate(45deg) translate(5px, 5px);
        }

        .mobile-menu.active span:nth-child(2) {
            opacity: 0;
        }

        .mobile-menu.active span:nth-child(3) {
            transform: rotate(-45deg) translate(5px, -5px);
        }

        .hero {
            background: linear-gradient(135deg, var(--primary-bg) 0%, var(--secondary-bg) 100%);
            color: var(--white);
            padding: 8rem 2rem 4rem;
            text-align: center;
            margin-top: 4rem;
            position: relative;
            overflow: hidden;
            min-height: 500px;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 30% 50%, rgba(199, 164, 110, 0.15) 0%, transparent 60%);
            pointer-events: none;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: clamp(2.2rem, 5vw, 3.2rem);
            color: var(--primary-text);
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: clamp(1rem, 2.4vw, 1.2rem);
            margin-bottom: 2rem;
            font-weight: 300;
            color: rgba(255,255,255,0.85);
        }

        .property-meta {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        .meta-item {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(199, 164, 110, 0.3);
            border-radius: 999px;
            padding: 0.6rem 1.4rem;
            color: var(--white);
            font-weight: 500;
            letter-spacing: 0.3px;
        }

        .cta-button {
            background: var(--primary-text);
            color: var(--white);
            padding: 1rem 2rem;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 15px rgba(199, 164, 110, 0.3);
        }

        .cta-button:hover {
            background: var(--accent);
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(199, 164, 110, 0.5);
        }

        main {
            background: var(--white);
        }

        section {
            padding: 4rem 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h2 {
            text-align: center;
            font-size: clamp(1.8rem, 4vw, 2.6rem);
            margin-bottom: 2.5rem;
        }

        .property-intro {
            background: var(--white);
        }

        .intro-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            align-items: start;
        }

        .intro-text p {
            margin-bottom: 1.2rem;
            font-size: 1.05rem;
            line-height: 1.8;
            color: #555;
        }

        .highlights {
            background: var(--light-bg);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-md);
        }

        .highlight-title {
            color: var(--primary-text);
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .highlight-list {
            list-style: none;
            display: grid;
            gap: 1rem;
        }

        .highlight-list li {
            display: flex;
            gap: 0.8rem;
            align-items: flex-start;
            color: #444;
            font-size: 1rem;
        }

        .highlight-icon {
            font-size: 1.3rem;
            color: var(--primary-text);
        }

        .property-story {
            background: #f5f6f9;
        }

        .story-content {
            max-width: 850px;
            margin: 0 auto;
        }

        .story-content h3 {
            font-size: 1.6rem;
            color: var(--primary-bg);
            margin-bottom: 1.5rem;
        }

        .story-content p {
            margin-bottom: 1.2rem;
            color: #4a4a4a;
            font-size: 1.05rem;
            line-height: 1.8;
        }

        .property-gallery {
            background: var(--white);
        }

        .gallery-slider {
            position: relative;
            display: grid;
            grid-template-columns: 60px 1fr 60px;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .gallery-main {
            position: relative;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            background: #000;
            aspect-ratio: 16 / 10;
        }

        .gallery-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-control {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid var(--primary-text);
            background: transparent;
            color: var(--primary-text);
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gallery-control:hover {
            background: var(--primary-text);
            color: var(--white);
            transform: translateY(-2px);
        }

        .gallery-thumbnails {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 0.8rem;
        }

        .thumb {
            padding: 0;
            border: 2px solid transparent;
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: border 0.3s ease, transform 0.3s ease;
            background: var(--white);
        }

        .thumb img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .thumb.active,
        .thumb:focus {
            border-color: var(--primary-text);
            outline: none;
            transform: translateY(-2px);
        }

        .video-tour {
            background: #050f24;
            color: var(--white);
        }

        .video-tour h2 {
            color: var(--primary-text);
        }

        .video-wrapper {
            position: relative;
            padding-top: 56.25%;
            border-radius: 18px;
            overflow: hidden;
            box-shadow: var(--shadow-lg);
        }

        .video-wrapper iframe,
        .video-wrapper img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border: 0;
            object-fit: cover;
        }

        .video-play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 108px;
            height: 76px;
            background: rgba(5, 15, 36, 0.45);
            border: 1px solid rgba(255, 255, 255, 0.18);
            border-radius: 16px;
            cursor: pointer;
            box-shadow: 0 20px 45px rgba(0, 0, 0, 0.45);
            display: grid;
            place-items: center;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .video-play-button:hover {
            transform: translate(-50%, -50%) scale(1.04);
            box-shadow: 0 24px 55px rgba(0, 0, 0, 0.5);
        }

        .video-play-button::before {
            content: '';
            display: block;
            width: 68px;
            height: 68px;
            border-radius: 50%;
            background: #f00;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
        }

        .video-play-button::after {
            content: '';
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-40%, -50%);
            border-left: 20px solid white;
            border-top: 14px solid transparent;
            border-bottom: 14px solid transparent;
        }

        .cta-section {
            background: var(--light-bg);
        }

        .cta-card {
            max-width: 820px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 20px;
            padding: 3rem;
            box-shadow: var(--shadow-lg);
            text-align: center;
        }

        .cta-card h3 {
            font-size: 2rem;
            color: var(--primary-bg);
            margin-bottom: 1rem;
        }

        .cta-card p {
            color: #555;
            font-size: 1.05rem;
            margin-bottom: 2rem;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        .price-section {
            background: var(--light-bg);
            padding: 3rem 1rem;
        }

        .price-section .container {
            display: flex;
            justify-content: center;
        }

        .price-card {
            background: var(--white);
            border-radius: 18px;
            padding: 2.5rem 3rem;
            box-shadow: var(--shadow-lg);
            text-align: center;
            max-width: 560px;
            width: 100%;
        }

        .price-label {
            color: var(--primary-bg);
            font-weight: 600;
            font-size: 1.05rem;
            letter-spacing: 0.3px;
            margin: 0 0 0.75rem;
        }

        .listing-price {
            color: var(--primary-text);
            font-size: 2.6rem;
            font-weight: 700;
            font-family: 'Playfair Display', Georgia, serif;
            margin: 0;
        }

        .contact-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .contact-link {
            background: var(--primary-bg);
            color: var(--white);
            padding: 0.9rem 1.8rem;
            border-radius: 999px;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .contact-link:hover {
            background: var(--secondary-bg);
            transform: translateY(-2px);
        }

        footer {
            background: var(--primary-bg);
            color: var(--white);
            text-align: center;
            padding: 2rem;
        }

        footer p {
            margin-bottom: 0.5rem;
        }

        .scroll-fade-in,
        .scroll-fade-in-left,
        .scroll-fade-in-right,
        .stagger-animation > * {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease;
        }

        .scroll-fade-in-left {
            transform: translateX(-30px);
        }

        .scroll-fade-in-right {
            transform: translateX(30px);
        }

        .visible {
            opacity: 1 !important;
            transform: translate(0) !important;
        }

        .stagger-animation.visible > * {
            opacity: 1;
            transform: translateY(0);
        }

        .stagger-animation.visible > *:nth-child(1) { transition-delay: 0.1s; }
        .stagger-animation.visible > *:nth-child(2) { transition-delay: 0.2s; }
        .stagger-animation.visible > *:nth-child(3) { transition-delay: 0.3s; }
        .stagger-animation.visible > *:nth-child(4) { transition-delay: 0.4s; }
        .stagger-animation.visible > *:nth-child(5) { transition-delay: 0.5s; }

        @media (max-width: 992px) {
            .gallery-slider {
                grid-template-columns: 1fr;
            }

            .gallery-control {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                z-index: 2;
            }

            .gallery-control.prev {
                left: 1rem;
            }

            .gallery-control.next {
                right: 1rem;
            }

            .gallery-main {
                grid-column: 1 / -1;
            }
        }

        @media (max-width: 768px) {
            nav {
                padding: 0 1.5rem;
            }

            .nav-links {
                position: absolute;
                top: 100%;
                right: 0;
                left: 0;
                background: var(--primary-bg);
                flex-direction: column;
                padding: 1rem 2rem;
                display: none;
                box-shadow: var(--shadow-md);
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-menu {
                display: flex;
            }

            .hero {
                padding: 7rem 1.5rem 3rem;
            }

            section {
                padding: 3rem 1.5rem;
            }

            .cta-card {
                padding: 2.5rem 2rem;
            }
        }

        @media (max-width: 576px) {
            .hero h1 {
                font-size: 2rem;
            }

            .hero {
                min-height: auto;
            }

            .highlight-list li {
                font-size: 0.95rem;
            }

            .gallery-thumbnails {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        .cookie-banner{position:fixed;bottom:0;left:0;right:0;background:rgba(8,22,54,.98);backdrop-filter:blur(10px);color:#fff;padding:20px;z-index:10000;transform:translateY(100%);transition:transform .3s ease;border-top:3px solid #C7A46E}
        .cookie-banner.show{transform:translateY(0)}
        .cookie-content{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:20px;flex-wrap:wrap}
        .cookie-text{flex:1;min-width:300px}
        .cookie-text h4{color:#C7A46E;margin:0 0 10px 0;font-size:1.1em;font-weight:600}
        .cookie-text p{margin:0;line-height:1.5;font-size:.95em}
        .cookie-buttons{display:flex;gap:10px;flex-wrap:wrap}
        .cookie-btn{padding:10px 20px;border:none;border-radius:5px;cursor:pointer;font-weight:500;transition:all .3s ease;font-size:.9em}
        .cookie-btn-accept{background:#C7A46E;color:#fff}
        .cookie-btn-accept:hover{background:#9b7d4f}
        .cookie-btn-decline{background:transparent;color:#C7A46E;border:2px solid #C7A46E}
        .cookie-btn-decline:hover{background:#C7A46E;color:#fff}
        .cookie-btn-settings{background:transparent;color:#fff;border:1px solid #666}
        .cookie-btn-settings:hover{background:#666}
        .cookie-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.8);z-index:10001;display:none;align-items:center;justify-content:center;padding:20px}
        .cookie-modal.show{display:flex}
        .cookie-modal-content{background:#fff;border-radius:10px;max-width:600px;width:100%;max-height:80vh;overflow-y:auto;position:relative}
        .cookie-modal-header{background:#081636;color:#fff;padding:20px;border-radius:10px 10px 0 0;position:relative}
        .cookie-modal-close{position:absolute;top:15px;right:20px;background:none;border:none;color:#fff;font-size:24px;cursor:pointer;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center}
        .cookie-modal-close:hover{background:rgba(255,255,255,.1)}
        .cookie-modal-body{padding:20px}
        .cookie-category{margin-bottom:20px;border:1px solid #ddd;border-radius:5px;overflow:hidden}
        .cookie-category-header{background:#f8f9fa;padding:15px;display:flex;justify-content:space-between;align-items:center;cursor:pointer}
        .cookie-category-header h5{margin:0;color:#081636;font-weight:600}
        .cookie-toggle{position:relative;width:50px;height:24px;background:#ccc;border-radius:12px;transition:background .3s}
        .cookie-toggle.active{background:#C7A46E}
        .cookie-toggle::after{content:'';position:absolute;top:2px;left:2px;width:20px;height:20px;background:#fff;border-radius:50%;transition:transform .3s}
        .cookie-toggle.active::after{transform:translateX(26px)}
        .cookie-category-content{padding:15px;display:none;border-top:1px solid #eee}
        .cookie-category-content.show{display:block}
        .cookie-modal-footer{padding:20px;border-top:1px solid #eee;display:flex;gap:10px;justify-content:flex-end}
        @media (max-width:768px){.cookie-content{flex-direction:column;text-align:center}.cookie-buttons{justify-content:center}.cookie-modal-footer{flex-direction:column}}
    </style>

    <script>
    (function () {
      function getParam(name) {
        const url = new URL(window.location.href);
        return url.searchParams.get(name);
      }
      function getCookie(name) {
        const m = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
        return m ? decodeURIComponent(m[2]) : null;
      }

      const fbclid = getParam('fbclid');
      if (fbclid) {
        const ts = Math.floor(Date.now() / 1000);
        const fbcValue = `fb.1.${ts}.${fbclid}`;
        const maxAge = 60 * 60 * 24 * 90;
        document.cookie = `_fbc=${encodeURIComponent(fbcValue)}; path=/; max-age=${maxAge};`;
      }

      const fbc = getCookie('_fbc');
      const fbp = getCookie('_fbp');
      const eventId = `${Date.now()}_${Math.random().toString(36).slice(2,10)}`;

      fetch('/.netlify/functions/capi', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          event_name: 'PageView',
          event_time: Math.floor(Date.now() / 1000),
          event_id: eventId,
          url: window.location.href,
          fbc: fbc || null,
          fbp: fbp || null
        })
      });

      if (window.fbq) {
        window.fbq('track', 'PageView', {}, { eventID: eventId });
      }
    })();
    </script>
</head>
<body>
    <header>
        <nav>
            <a href="/" class="logo">
                PETR PAVEL
                <img src="/logo.png" alt="QARA Reality logo">
            </a>
            <ul class="nav-links">
                <li><a href="/">Dom≈Ø</a></li>
                <li><a href="#galerie">Galerie</a></li>
                <li><a href="#video">Videoprohl√≠dka</a></li>
                <li><a href="#kontakt">Kontakt</a></li>
            </ul>
            <div class="mobile-menu" aria-label="Otev≈ô√≠t menu" role="button" tabindex="0">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero">
            <div class="hero-content">
                <h1>Design, svƒõtlo a klid ‚Äì byt, kter√Ω si zamilujete</h1>
                <div class="property-meta">
                    <span class="meta-item">1+kk</span>
                    <span class="meta-item">36,53 m¬≤</span>
                    <span class="meta-item">Klidn√° ƒç√°st Prahy</span>
                    <span class="meta-item">N√≠zk√© n√°klady</span>
                </div>
                <a href="#galerie" class="cta-button">Prohl√©dnout galerii</a>
            </div>
        </section>

        <section class="property-intro" id="detail">
            <div class="container">
                <div class="intro-grid">
                    <div class="intro-text scroll-fade-in">
                        <p>Nab√≠z√≠m k prodeji v√Ωjimeƒçn√Ω byt 1+kk po kompletn√≠, luxusn√≠ rekonstrukci. Ka≈æd√Ω detail zde byl promy≈°len tak, aby spojoval estetiku, funkƒçnost a p≈ô√≠jemnou atmosf√©ru domova.</p>
                        <p>Byt se nach√°z√≠ ve 2. pat≈ôe cihlov√©ho domu v klidn√© ƒç√°sti Prahy, obklopen√© zelen√≠ a rodinn√Ωmi domy. ≈Ω√°dn√Ω panel√°k, ≈æ√°dn√Ω ruch, jen klid a soukrom√≠. Na dosah m√°te i Kl√°novick√Ω les, ide√°ln√≠ m√≠sto pro bƒõh, cyklistiku nebo v√≠kendov√Ω piknik.</p>
                        <p>Interi√©r p≈Øsob√≠ jako z designov√©ho magaz√≠nu. Kuchy≈àsk√° linka na m√≠ru nab√≠z√≠ dostatek prostoru a je vybavena ≈°piƒçkov√Ωmi spot≈ôebiƒçi. Dominantou ob√Ωvac√≠ ƒç√°sti je origin√°ln√≠ dekorativn√≠ plastika sk√°ly, kter√° dod√°v√° bytu osobit√Ω charakter a svƒõtov√Ω styl.</p>
                    </div>
                    <div class="highlights scroll-fade-in-right">
                        <h3 class="highlight-title">Proƒç si byt zamilujete?</h3>
                        <ul class="highlight-list">
                            <li><span class="highlight-icon">üåá</span><span>Veƒçern√≠ z√°pady slunce, kter√© zaplav√≠ prostor tepl√Ωm svƒõtlem. Tento byt m√° energii, kter√° ƒçlovƒõka okam≈æitƒõ uklidn√≠.</span></li>
                            <li><span class="highlight-icon">üõÅ</span><span>Kuchy≈à na m√≠ru, kvalitn√≠ materi√°ly, sjednocen√Ω styl, modern√≠ koupelna a spousta √∫lo≈æn√©ho prostoru.</span></li>
                            <li><span class="highlight-icon">üåø</span><span>Spoleƒçn√° zahrada, kter√° p≈ôin√°≈°√≠ dal≈°√≠ rozmƒõr bydlen√≠.</span></li>
                            <li><span class="highlight-icon">üöó</span><span>Parkov√°n√≠ p≈ô√≠mo u domu a n√≠zk√© mƒõs√≠ƒçn√≠ n√°klady.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="property-story" id="pribeh">
            <div class="container">
                <div class="story-content scroll-fade-in">
                    <h2>Domov s charakterem</h2>
                    <p>Dominantou ob√Ωvac√≠ ƒç√°sti je origin√°ln√≠ umƒõleck√Ω prvek ‚Äì dekorativn√≠ plastika sk√°ly, kter√° dod√°v√° interi√©ru svƒõtov√Ω styl. Kuchy≈àsk√° linka na m√≠ru nab√≠z√≠ dostatek √∫lo≈æn√©ho prostoru i pracovn√≠ plochy a je vybavena ≈°piƒçkov√Ωmi spot≈ôebiƒçi pro komfortn√≠ ka≈ædodenn√≠ va≈ôen√≠.</p>
                    <p>V koupelnƒõ najdete modern√≠ vanu, promy≈°lenou kombinaci dla≈ædic a nep≈ô√≠m√©ho osvƒõtlen√≠, kter√° vytv√°≈ô√≠ mimo≈ô√°dnƒõ √∫tulnou atmosf√©ru. Cel√Ω byt p≈Øsob√≠ ucelenƒõ a harmonicky, d√≠ky ƒçemu≈æ se sem okam≈æitƒõ zamilujete.</p>
                    <p>Ka≈æd√Ω veƒçer m≈Ø≈æete sledovat z√°pad slunce, kter√Ω zaplav√≠ prostor tepl√Ωm svƒõtlem. D√≠ky n√≠zk√Ωm mƒõs√≠ƒçn√≠m n√°klad≈Øm 1 675 Kƒç je bydlen√≠ nejen kr√°sn√©, ale i √∫sporn√©. K bytu pat≈ô√≠ spoleƒçn√° zahrada o v√Ωmƒõ≈ôe 634 m¬≤, kde si snadno vytvo≈ô√≠te vlastn√≠ kout pro odpoƒçinek, grilov√°n√≠ nebo posezen√≠ s p≈ô√°teli.</p>
                    <p>Parkov√°n√≠ je bezprobl√©mov√© p≈ô√≠mo u domu a klidn√° atmosf√©ra lokality nab√≠z√≠ ide√°ln√≠ podm√≠nky pro relax po n√°roƒçn√©m dni.</p>
                </div>
            </div>
        </section>

        <section class="property-gallery" id="galerie">
            <div class="container">
                <h2 class="scroll-fade-in">Fotogalerie</h2>
                <div class="gallery-slider scroll-fade-in">
                    <button class="gallery-control prev" type="button" aria-label="P≈ôedchoz√≠ fotografie">&#10094;</button>
                    <div class="gallery-main">
                        <img src="Prodej_bytu_1+kk_Praha1.png" alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 1" loading="lazy">
                    </div>
                    <button class="gallery-control next" type="button" aria-label="Dal≈°√≠ fotografie">&#10095;</button>
                </div>
                <div class="gallery-thumbnails stagger-animation">
                    <button class="thumb active" type="button" data-index="0" data-image="Prodej_bytu_1+kk_Praha1.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 1" aria-label="Zobrazit fotografii 1">
                        <img src="Prodej_bytu_1+kk_Praha1.png" alt="N√°hled fotografie 1 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="1" data-image="Prodej_bytu_1+kk_Praha2.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 2" aria-label="Zobrazit fotografii 2">
                        <img src="Prodej_bytu_1+kk_Praha2.png" alt="N√°hled fotografie 2 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="2" data-image="Prodej_bytu_1+kk_Praha3.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 3" aria-label="Zobrazit fotografii 3">
                        <img src="Prodej_bytu_1+kk_Praha3.png" alt="N√°hled fotografie 3 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="3" data-image="Prodej_bytu_1+kk_Praha4.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 4" aria-label="Zobrazit fotografii 4">
                        <img src="Prodej_bytu_1+kk_Praha4.png" alt="N√°hled fotografie 4 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="4" data-image="Prodej_bytu_1+kk_Praha5.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 5" aria-label="Zobrazit fotografii 5">
                        <img src="Prodej_bytu_1+kk_Praha5.png" alt="N√°hled fotografie 5 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="5" data-image="Prodej_bytu_1+kk_Praha6.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 6" aria-label="Zobrazit fotografii 6">
                        <img src="Prodej_bytu_1+kk_Praha6.png" alt="N√°hled fotografie 6 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="6" data-image="Prodej_bytu_1+kk_Praha7.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 7" aria-label="Zobrazit fotografii 7">
                        <img src="Prodej_bytu_1+kk_Praha7.png" alt="N√°hled fotografie 7 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="7" data-image="Prodej_bytu_1+kk_Praha8.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 8" aria-label="Zobrazit fotografii 8">
                        <img src="Prodej_bytu_1+kk_Praha8.png" alt="N√°hled fotografie 8 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="8" data-image="Prodej_bytu_1+kk_Praha9.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 9" aria-label="Zobrazit fotografii 9">
                        <img src="Prodej_bytu_1+kk_Praha9.png" alt="N√°hled fotografie 9 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="9" data-image="Prodej_bytu_1+kk_Praha10.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 10" aria-label="Zobrazit fotografii 10">
                        <img src="Prodej_bytu_1+kk_Praha10.png" alt="N√°hled fotografie 10 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="10" data-image="Prodej_bytu_1+kk_Praha11.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 11" aria-label="Zobrazit fotografii 11">
                        <img src="Prodej_bytu_1+kk_Praha11.png" alt="N√°hled fotografie 11 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="11" data-image="Prodej_bytu_1+kk_Praha12.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 12" aria-label="Zobrazit fotografii 12">
                        <img src="Prodej_bytu_1+kk_Praha12.png" alt="N√°hled fotografie 12 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="12" data-image="Prodej_bytu_1+kk_Praha13.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 13" aria-label="Zobrazit fotografii 13">
                        <img src="Prodej_bytu_1+kk_Praha13.png" alt="N√°hled fotografie 13 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="13" data-image="Prodej_bytu_1+kk_Praha14.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 14" aria-label="Zobrazit fotografii 14">
                        <img src="Prodej_bytu_1+kk_Praha14.png" alt="N√°hled fotografie 14 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                    <button class="thumb" type="button" data-index="14" data-image="Prodej_bytu_1+kk_Praha15.png" data-alt="Designov√Ω byt 1+kk Praha ‚Äì fotografie 15" aria-label="Zobrazit fotografii 15">
                        <img src="Prodej_bytu_1+kk_Praha15.png" alt="N√°hled fotografie 15 ‚Äì designov√Ω byt 1+kk Praha" loading="lazy">
                    </button>
                </div>
            </div>
        </section>

        <section class="video-tour" id="video">
            <div class="container">
                <h2 class="scroll-fade-in">Videoprohl√≠dka</h2>
                <p class="scroll-fade-in" style="max-width: 720px; margin: 0 auto 2rem; text-align: center; color: rgba(255,255,255,0.85);">
                    Pod√≠vejte se na kompletn√≠ videoprohl√≠dku a za≈æijte atmosf√©ru bytu je≈°tƒõ p≈ôed osobn√≠ n√°v≈°tƒõvou.
                </p>
                <div class="video-wrapper scroll-fade-in" id="youtube-player">
                    <img src="https://img.youtube.com/vi/vJznDISW6kg/maxresdefault.jpg" alt="N√°hled videoprohl√≠dky bytu 1+kk Praha" loading="lazy">
                    <button class="video-play-button" type="button" onclick="loadVideo()" aria-label="P≈ôehr√°t videoprohl√≠dku">
                        <span class="sr-only">Spustit video</span>
                    </button>
                </div>
            </div>
        </section>

        <section class="price-section">
            <div class="container">
                <div class="price-card scroll-fade-in">
                    <p class="price-label">Aktu√°ln√≠ cena</p>
                    <p class="listing-price">6 690 000 Kƒç</p>
                </div>
            </div>
        </section>

        <section class="cta-section" id="kontakt">
            <div class="container">
                <div class="cta-card scroll-fade-in">
                    <h3>U≈æ m√°te zarezervovan√Ω term√≠n prohl√≠dky?</h3>
                    <p>Tƒõ≈°√≠m se na V√°s osobnƒõ. Domluvte si prohl√≠dku je≈°tƒõ dnes a objevte kouzlo tohoto v√Ωjimeƒçn√©ho bytu.</p>
                    <div class="contact-links">
                        <a class="contact-link" href="tel:+420739532056">üìû +420 739 532 056</a>
                        <a class="contact-link" href="mailto:petr.pavel@qara.cz">‚úâÔ∏è petr.pavel@qara.cz</a>
                        <a class="contact-link" href="https://pavelreality.cz#estimate">üìã Chci odhad ceny</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Petr Pavel - Realitn√≠ makl√©≈ô Praha. V≈°echna pr√°va vyhrazena.</p>
        <p><a href="/ochrana-osobnich-udaju.html" style="color: var(--primary-text); text-decoration: none;">Ochrana osobn√≠ch √∫daj≈Ø</a></p>
        <p>Nez√°visle provozovan√° realitn√≠ kancel√°≈ô Petr Pavel Reality je souƒç√°st√≠ s√≠tƒõ realitn√≠ch kancel√°≈ô√≠ v r√°mci fran≈°√≠zy QARA.</a></p>
    </footer>

    <div id="cookieBanner" class="cookie-banner" aria-live="polite" role="dialog" aria-label="Nastaven√≠ cookies">
      <div class="cookie-content">
        <div class="cookie-text">
          <h4>üç™ Pou≈æ√≠v√°me cookies</h4>
          <p>Abychom v√°m poskytli nejlep≈°√≠ z√°≈æitek, pou≈æ√≠v√°me cookies pro anal√Ωzu n√°v≈°tƒõvnosti a marketing. Nezbytn√© cookies funguj√≠ v≈ædy.</p>
        </div>
        <div class="cookie-buttons">
          <button class="cookie-btn cookie-btn-accept" id="cc-accept-all">P≈ôijmout v≈°e</button>
          <button class="cookie-btn cookie-btn-decline" id="cc-decline-all">Odm√≠tnout</button>
          <button class="cookie-btn cookie-btn-settings" id="cc-open-settings">Nastaven√≠</button>
        </div>
      </div>
    </div>

    <div id="cookieModal" class="cookie-modal" aria-hidden="true">
      <div class="cookie-modal-content">
        <div class="cookie-modal-header">
          <h3>Nastaven√≠ cookies</h3>
          <button class="cookie-modal-close" id="cc-close-settings" aria-label="Zav≈ô√≠t">&times;</button>
        </div>
        <div class="cookie-modal-body">
          <div class="cookie-category">
            <div class="cookie-category-header" data-target="essential-content">
              <h5>Nezbytn√© cookies</h5>
              <div class="cookie-toggle active" data-disabled="true" aria-hidden="true"></div>
            </div>
            <div id="essential-content" class="cookie-category-content">
              <p>Tyto cookies jsou nezbytn√© pro spr√°vn√© fungov√°n√≠ webu a nelze je vypnout (nap≈ô. ulo≈æen√≠ nastaven√≠ souhlas≈Ø).</p>
            </div>
          </div>

          <div class="cookie-category">
            <div class="cookie-category-header" data-target="analytics-content">
              <h5>Analytick√© cookies</h5>
              <div class="cookie-toggle" id="analytics-toggle" role="switch" aria-checked="false" tabindex="0"></div>
            </div>
            <div id="analytics-content" class="cookie-category-content">
              <p>Pom√°haj√≠ n√°m pochopit, jak n√°v≈°tƒõvn√≠ci pou≈æ√≠vaj√≠ web. Sb√≠raj√≠ anonymn√≠ statistiky o n√°v≈°tƒõvnosti.</p>
              <strong>Pou≈æ√≠van√© slu≈æby:</strong>
              <ul>
                <li>Google Analytics 4</li>
                <li>Google Tag Manager</li>
              </ul>
            </div>
          </div>

          <div class="cookie-category">
            <div class="cookie-category-header" data-target="marketing-content">
              <h5>Marketingov√© cookies</h5>
              <div class="cookie-toggle" id="marketing-toggle" role="switch" aria-checked="false" tabindex="0"></div>
            </div>
            <div id="marketing-content" class="cookie-category-content">
              <p>Umo≈æ≈àuj√≠ zobrazovat relevantn√≠ reklamu a mƒõ≈ôit konverze.</p>
              <strong>Pou≈æ√≠van√© slu≈æby:</strong>
              <ul>
                <li>Meta Pixel (Facebook)</li>
                <li>Google Ads</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="cookie-modal-footer">
          <button class="cookie-btn cookie-btn-decline" id="cc-save">Ulo≈æit nastaven√≠</button>
          <button class="cookie-btn cookie-btn-accept" id="cc-accept-all-2">P≈ôijmout v≈°e</button>
        </div>
      </div>
    </div>

    <script>
        function loadVideo() {
            const container = document.getElementById('youtube-player');
            if (!container) return;
            container.innerHTML = `
                <iframe src="https://www.youtube-nocookie.com/embed/vJznDISW6kg?autoplay=1" 
                        title="Videoprohl√≠dka bytu 1+kk Praha" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen 
                        style="position: absolute; inset: 0; width: 100%; height: 100%; border: 0;">
                </iframe>
            `;
        }
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mobileMenu = document.querySelector('.mobile-menu');
            const navLinks = document.querySelector('.nav-links');
            const navLinkItems = document.querySelectorAll('.nav-links a');

            const toggleMenu = () => {
                navLinks.classList.toggle('active');
                mobileMenu.classList.toggle('active');
            };

            if (mobileMenu) {
                mobileMenu.addEventListener('click', toggleMenu);
                mobileMenu.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        toggleMenu();
                    }
                });
            }

            navLinkItems.forEach(link => link.addEventListener('click', () => {
                navLinks.classList.remove('active');
                mobileMenu.classList.remove('active');
            }));

            const observerOptions = {
                threshold: 0.2
            };

            const revealObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        revealObserver.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.scroll-fade-in, .scroll-fade-in-left, .scroll-fade-in-right').forEach(el => {
                revealObserver.observe(el);
            });

            const staggerObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        staggerObserver.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.stagger-animation').forEach(el => {
                staggerObserver.observe(el);
            });

            const mainImage = document.querySelector('.gallery-main img');
            const prevBtn = document.querySelector('.gallery-control.prev');
            const nextBtn = document.querySelector('.gallery-control.next');
            const thumbs = Array.from(document.querySelectorAll('.gallery-thumbnails .thumb'));
            let currentIndex = 0;

            const updateImage = (index) => {
                const target = thumbs[index];
                if (!target || !mainImage) return;

                const { image, alt } = target.dataset;
                if (image) {
                    mainImage.src = image;
                }
                if (alt) {
                    mainImage.alt = alt;
                }

                thumbs.forEach(btn => {
                    btn.classList.remove('active');
                    btn.setAttribute('aria-pressed', 'false');
                });

                target.classList.add('active');
                target.setAttribute('aria-pressed', 'true');
                currentIndex = index;
            };

            thumbs.forEach((thumb, index) => {
                thumb.addEventListener('click', () => updateImage(index));
                thumb.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        updateImage(index);
                    }
                });
            });

            const showNext = () => {
                const nextIndex = (currentIndex + 1) % thumbs.length;
                updateImage(nextIndex);
            };

            const showPrev = () => {
                const prevIndex = (currentIndex - 1 + thumbs.length) % thumbs.length;
                updateImage(prevIndex);
            };

            if (nextBtn) {
                nextBtn.addEventListener('click', showNext);
            }

            if (prevBtn) {
                prevBtn.addEventListener('click', showPrev);
            }

        document.addEventListener('keydown', (event) => {
            if (event.key === 'ArrowRight') {
                showNext();
            } else if (event.key === 'ArrowLeft') {
                showPrev();
            }
        });

        updateImage(0);
    });
    </script>

<script>
(function() {
  class CookieManager {
    constructor() {
      this.cookieConsent = { essential: true, analytics: false, marketing: false };
      this.init();
    }

    init() {
      const saved = this.getCookie('cookieConsent');
      if (saved) {
        try { this.cookieConsent = JSON.parse(saved); } catch(e){}
        this.setConsentDefaultsDenied();
        this.updateConsentFlags();
        this.loadScripts();
      } else {
        setTimeout(() => {
          const banner = document.getElementById('cookieBanner');
          if(banner) banner.classList.add('show');
        }, 700);
        this.setConsentDefaultsDenied();
      }

      const byId = id => document.getElementById(id);
      ['cc-accept-all','cc-accept-all-2'].forEach(id => byId(id)?.addEventListener('click', () => this.acceptAll()));
      byId('cc-decline-all')?.addEventListener('click', () => this.declineAll());
      byId('cc-open-settings')?.addEventListener('click', () => this.openSettings());
      byId('cc-close-settings')?.addEventListener('click', () => this.closeSettings());
      byId('cc-save')?.addEventListener('click', () => { this.saveConsent(); this.closeSettings(); });

      document.querySelectorAll('.cookie-category-header').forEach(h => {
        h.addEventListener('click', (e) => {
          if (e.target.classList.contains('cookie-toggle')) return;
          const target = h.getAttribute('data-target');
          document.getElementById(target)?.classList.toggle('show');
        });
      });

      const bindToggle = (id, key) => {
        const el = document.getElementById(id);
        if(!el) return;
        const updateUI = () => {
          el.classList.toggle('active', !!this.cookieConsent[key]);
          el.setAttribute('aria-checked', this.cookieConsent[key] ? 'true' : 'false');
        };
        el.addEventListener('click', () => { this.cookieConsent[key] = !this.cookieConsent[key]; updateUI(); });
        el.addEventListener('keydown', ev => { if(ev.key==='Enter'||ev.key===' ') { ev.preventDefault(); el.click(); } });
        updateUI();
      };
      bindToggle('analytics-toggle','analytics');
      bindToggle('marketing-toggle','marketing');

      byId('cookieSettingsLink')?.addEventListener('click', e=>{ e.preventDefault(); this.openSettings(); });
    }

    setConsentDefaultsDenied() {
      window.dataLayer = window.dataLayer || [];
      window.gtag = window.gtag || function(){ dataLayer.push(arguments); };
      window.gtag('consent','default',{
        'ad_storage':'denied',
        'ad_user_data':'denied',
        'ad_personalization':'denied',
        'analytics_storage':'denied'
      });
    }

    updateConsentFlags() {
      const granted = {
        'ad_storage': this.cookieConsent.marketing ? 'granted' : 'denied',
        'ad_user_data': this.cookieConsent.marketing ? 'granted' : 'denied',
        'ad_personalization': this.cookieConsent.marketing ? 'granted' : 'denied',
        'analytics_storage': this.cookieConsent.analytics ? 'granted' : 'denied'
      };
      if(window.gtag) window.gtag('consent','update',granted);
      else if(window.dataLayer) window.dataLayer.push(['consent','update',granted]);
      return granted;
    }

    setCookie(name,value,days) {
      const expires = new Date(Date.now()+days*864e5).toUTCString();
      const secure = location.protocol==='https:'?';Secure':'';
      document.cookie = name+'='+value+';expires='+expires+';path=/;SameSite=Lax'+secure;
    }

    getCookie(name) {
      const m=document.cookie.match(new RegExp('(^| )'+name+'=([^;]+)'));
      return m?m[2]:null;
    }

    saveConsent() {
      this.setCookie('cookieConsent', JSON.stringify(this.cookieConsent), 365);
      this.hideBanner();
      this.updateConsentFlags();
      this.loadScripts();
    }

    hideBanner() {
      const b = document.getElementById('cookieBanner');
      if(b) b.classList.remove('show');
    }

    acceptAll() { this.cookieConsent={essential:true,analytics:true,marketing:true}; this.saveConsent(); this.closeSettings(); }
    declineAll() { this.cookieConsent={essential:true,analytics:false,marketing:false}; this.saveConsent(); this.closeSettings(); }

    openSettings() {
      document.getElementById('cookieModal')?.classList.add('show');
      document.body.style.overflow='hidden';
      document.getElementById('analytics-toggle')?.classList.toggle('active', this.cookieConsent.analytics);
      document.getElementById('marketing-toggle')?.classList.toggle('active', this.cookieConsent.marketing);
    }

    closeSettings() {
      document.getElementById('cookieModal')?.classList.remove('show');
      document.body.style.overflow='';
    }

    loadScripts() {
      if((this.cookieConsent.analytics||this.cookieConsent.marketing)&&!window._gtmLoaded){
        window._gtmLoaded=true;
        window.dataLayer = window.dataLayer||[];
        (function(w,d,s,l,i){
          w[l]=w[l]||[];
          w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
          var f=d.getElementsByTagName(s)[0], j=d.createElement(s), dl=l!='dataLayer'?'&l='+l:'';
          j.async=true; j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
          f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-M47BDR75');
      }

      if(this.cookieConsent.analytics&&!document.querySelector('script[src*="gtag/js?id="]')){
        var gtagScript=document.createElement('script'); gtagScript.async=true;
        gtagScript.src='https://www.googletagmanager.com/gtag/js?id=G-QVGLEFLZ38';
        document.head.appendChild(gtagScript);
        window.dataLayer=window.dataLayer||[];
        function gtag(){dataLayer.push(arguments);}
        gtag('js',new Date());
        gtag('config','G-QVGLEFLZ38');
      }

      if(this.cookieConsent.marketing&&!window.fbq){
        !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)n._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];
        t=b.createElement(e);t.async=!0;t.src=v;
        s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)
        }(window,document,'script','https://connect.facebook.net/en_US/fbevents.js');

        const eventId = 'ev_' + Date.now() + '_' + Math.floor(Math.random()*100000);
        window.fbq('init','1839880890251639');
        window.fbq('track','PageView', {}, {eventID: eventId});

        const fbp = this.getCookie('_fbp');
        const fbc = this.getCookie('_fbc');

        fetch("/.netlify/functions/fb-capi", {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify({
            event_name: "PageView",
            event_id: eventId,
            fbp: fbp,
            fbc: fbc,
            url: window.location.href
          })
        })
        .then(r=>r.json())
        .then(resp=>console.log("fb-capi:", resp))
        .catch(err=>console.error("fb-capi error:", err));
      }
    }

    trackEvent(eventName, params){
      if(this.cookieConsent.analytics&&window.gtag) window.gtag('event',eventName,params||{});
      if(this.cookieConsent.marketing&&window.fbq) window.fbq('track',eventName,params||{});
    }
  }

  window.cookieManager = new CookieManager();

  document.addEventListener('click',function(e){
    const tel=e.target.closest?.('a[href^="tel:"]');
    if(tel) window.cookieManager.trackEvent('Contact',{event_category:'click',event_label:'phone'});
    const cta=e.target.closest?.('.cta-button');
    if(cta) window.cookieManager.trackEvent('CTA_Click',{event_category:'button',event_label:(cta.textContent||'').trim()});
  });

  document.addEventListener('submit',function(e){
    if(e.target?.id==='estimateForm') window.cookieManager.trackEvent('Lead',{event_category:'form',event_label:'estimate_form'});
  });

})();
</script>
</body>
</html>
